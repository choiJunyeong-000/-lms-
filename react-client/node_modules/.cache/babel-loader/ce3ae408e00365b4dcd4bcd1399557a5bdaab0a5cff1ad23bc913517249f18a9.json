{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BIG60309\\\\react-client\\\\src\\\\components\\\\CreateBoard.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateBoard = ({\n  weekNumber,\n  courseId,\n  token\n}) => {\n  _s();\n  const [title, setTitle] = useState(\"\");\n  const [memberId, setMemberId] = useState(null);\n\n  // 사용자 정보를 가져오는 함수\n  const fetchUserData = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8090/api/users/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMemberId(response.data.id);\n    } catch (error) {\n      console.error(\"사용자 정보 조회 실패:\", error);\n    }\n  };\n\n  // 컴포넌트가 마운트될 때 사용자 정보 가져오기\n  useEffect(() => {\n    if (token) {\n      fetchUserData();\n    }\n  }, [token]);\n  const handleSubmit = async () => {\n    if (!memberId) {\n      alert(\"사용자 정보를 불러올 수 없습니다.\");\n      return;\n    }\n    try {\n      const response = await axios.post(\"http://localhost:8090/weekly-board/create\", {\n        title,\n        weekNumber,\n        courseId,\n        memberId // memberId 추가\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(\"게시판이 생성되었습니다!\");\n    } catch (error) {\n      console.error(\"게시판 생성 실패:\", error.response ? error.response.data : error.message);\n      alert(\"게시판 생성에 실패했습니다.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uAC8C\\uC2DC\\uD310 \\uC0DD\\uC131\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: title,\n      onChange: e => setTitle(e.target.value),\n      placeholder: \"\\uAC8C\\uC2DC\\uD310 \\uC81C\\uBAA9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"\\uC800\\uC7A5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateBoard, \"5TzQ35p3tFZkZpVj1GgdO1o4NKA=\");\n_c = CreateBoard;\nexport default CreateBoard;\nvar _c;\n$RefreshReg$(_c, \"CreateBoard\");","map":{"version":3,"names":["axios","React","useState","useEffect","jsxDEV","_jsxDEV","CreateBoard","weekNumber","courseId","token","_s","title","setTitle","memberId","setMemberId","fetchUserData","response","get","headers","Authorization","data","id","error","console","handleSubmit","alert","post","message","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/BIG60309/react-client/src/components/CreateBoard.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst CreateBoard = ({ weekNumber, courseId, token }) => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [memberId, setMemberId] = useState(null);\r\n\r\n  // 사용자 정보를 가져오는 함수\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:8090/api/users/me\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setMemberId(response.data.id);\r\n    } catch (error) {\r\n      console.error(\"사용자 정보 조회 실패:\", error);\r\n    }\r\n  };\r\n\r\n  // 컴포넌트가 마운트될 때 사용자 정보 가져오기\r\n  useEffect(() => {\r\n    if (token) {\r\n      fetchUserData();\r\n    }\r\n  }, [token]);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!memberId) {\r\n      alert(\"사용자 정보를 불러올 수 없습니다.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n     \r\n\r\n      const response = await axios.post(\r\n        \"http://localhost:8090/weekly-board/create\",\r\n        {\r\n          title,\r\n          weekNumber,\r\n          courseId,\r\n          memberId, // memberId 추가\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n\r\n      alert(\"게시판이 생성되었습니다!\");\r\n    \r\n    } catch (error) {\r\n      console.error(\r\n        \"게시판 생성 실패:\",\r\n        error.response ? error.response.data : error.message\r\n      );\r\n      alert(\"게시판 생성에 실패했습니다.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>게시판 생성</h3>\r\n      <input\r\n        type=\"text\"\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n        placeholder=\"게시판 제목\"\r\n      />\r\n      <button onClick={handleSubmit}>저장</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateBoard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,WAAW,GAAGA,CAAC;EAAEC,UAAU;EAAEC,QAAQ;EAAEC;AAAM,CAAC,KAAK;EAAAC,EAAA;EACvD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;;EAE9C;EACA,MAAMa,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,oCAAoC,EAAE;QACrEC,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUV,KAAK;QAAG;MAC9C,CAAC,CAAC;MACFK,WAAW,CAACE,QAAQ,CAACI,IAAI,CAACC,EAAE,CAAC;IAC/B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACvC;EACF,CAAC;;EAED;EACAnB,SAAS,CAAC,MAAM;IACd,IAAIM,KAAK,EAAE;MACTM,aAAa,CAAC,CAAC;IACjB;EACF,CAAC,EAAE,CAACN,KAAK,CAAC,CAAC;EAEX,MAAMe,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACX,QAAQ,EAAE;MACbY,KAAK,CAAC,qBAAqB,CAAC;MAC5B;IACF;IAEA,IAAI;MAGF,MAAMT,QAAQ,GAAG,MAAMhB,KAAK,CAAC0B,IAAI,CAC/B,2CAA2C,EAC3C;QACEf,KAAK;QACLJ,UAAU;QACVC,QAAQ;QACRK,QAAQ,CAAE;MACZ,CAAC,EACD;QACEK,OAAO,EAAE;UAAEC,aAAa,EAAE,UAAUV,KAAK;QAAG;MAC9C,CACF,CAAC;MAEDgB,KAAK,CAAC,eAAe,CAAC;IAExB,CAAC,CAAC,OAAOH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CACX,YAAY,EACZA,KAAK,CAACN,QAAQ,GAAGM,KAAK,CAACN,QAAQ,CAACI,IAAI,GAAGE,KAAK,CAACK,OAC/C,CAAC;MACDF,KAAK,CAAC,iBAAiB,CAAC;IAC1B;EACF,CAAC;EAED,oBACEpB,OAAA;IAAAuB,QAAA,gBACEvB,OAAA;MAAAuB,QAAA,EAAI;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACf3B,OAAA;MACE4B,IAAI,EAAC,MAAM;MACXC,KAAK,EAAEvB,KAAM;MACbwB,QAAQ,EAAGC,CAAC,IAAKxB,QAAQ,CAACwB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC1CI,WAAW,EAAC;IAAQ;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC,eACF3B,OAAA;MAAQkC,OAAO,EAAEf,YAAa;MAAAI,QAAA,EAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvC,CAAC;AAEV,CAAC;AAACtB,EAAA,CApEIJ,WAAW;AAAAkC,EAAA,GAAXlC,WAAW;AAsEjB,eAAeA,WAAW;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}