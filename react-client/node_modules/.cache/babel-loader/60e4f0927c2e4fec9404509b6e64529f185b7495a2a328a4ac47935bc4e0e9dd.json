{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BIG60309\\\\react-client\\\\src\\\\components\\\\PostDetail.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./PostDetail.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function PostDetail() {\n  _s();\n  const {\n    postId,\n    boardId\n  } = useParams();\n  const [post, setPost] = useState(null);\n  const [memberId, setMemberId] = useState(null);\n  const token = localStorage.getItem(\"token\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (token) {\n      fetchUserData();\n      fetchPostDetail();\n    }\n  }, [token, postId, boardId]);\n\n  //  ÌòÑÏû¨ Î°úÍ∑∏Ïù∏Ìïú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå\n  const fetchUserData = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8090/api/users/me\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setMemberId(response.data.id);\n    } catch (error) {\n      console.error(\"ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®:\", error);\n    }\n  };\n\n  //  Í≤åÏãúÍ∏Ä ÏÉÅÏÑ∏ Ï°∞Ìöå\n  const fetchPostDetail = async () => {\n    try {\n      const response = await axios.get(`http://localhost:8090/api/weekly-post/${postId}/${boardId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setPost(response.data.post);\n    } catch (error) {\n      console.error(\"Í≤åÏãúÍ∏Ä ÏÉÅÏÑ∏ Ï°∞Ìöå Ïã§Ìå®:\", error);\n      alert(\"Í≤åÏãúÍ∏ÄÏùÑ Î∂àÎü¨Ïò§Îäî Îç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n    }\n  };\n\n  //  ÏàòÏ†ï ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô (Í≤ΩÎ°ú ÏàòÏ†ïÎê®!)\n  const handleEdit = () => {\n    navigate(`/api/weekly-post/${postId}/${boardId}/edit`); // üî• Í∏∞Ï°¥ Í≤ΩÎ°ú Ïò§Î•ò ÏàòÏ†ï\n  };\n\n  //  Í≤åÏãúÍ∏Ä ÏÇ≠Ï†ú ÏöîÏ≤≠\n  const handleDelete = async () => {\n    if (window.confirm(\"Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\")) {\n      try {\n        await axios.delete(`http://localhost:8090/api/weekly-post/${postId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        alert(\"Í≤åÏãúÍ∏ÄÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.\");\n        navigate(`/board/${boardId}`);\n      } catch (error) {\n        var _error$response;\n        alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || \"Í≤åÏãúÍ∏Ä ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\n      }\n    }\n  };\n  if (!post) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\uB85C\\uB529 \\uC911...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-detail-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"post-detail-title\",\n      children: post.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-detail-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uC791\\uC131\\uC790:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 23\n        }, this), \" \", post.memberName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), \" \\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"post-detail-date\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uC791\\uC131\\uC77C:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), \" \", post.createdAt ? new Date(post.createdAt).toLocaleDateString() : \"Ïïå Ïàò ÏóÜÏùå\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"post-detail-content\",\n      children: post.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), memberId === post.memberId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-detail-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"post-edit-button\",\n        onClick: handleEdit,\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"post-delete-button\",\n        onClick: handleDelete,\n        children: \"\\uC0AD\\uC81C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"post-back-button\",\n      onClick: () => navigate(`/api/weekly-post/board/${boardId}`),\n      children: \"\\uBAA9\\uB85D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n_s(PostDetail, \"N52cHvBvRoejiiFPjAvumE2ObNU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PostDetail;\nexport default PostDetail;\nvar _c;\n$RefreshReg$(_c, \"PostDetail\");","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","axios","jsxDEV","_jsxDEV","PostDetail","_s","postId","boardId","post","setPost","memberId","setMemberId","token","localStorage","getItem","navigate","fetchUserData","fetchPostDetail","response","get","headers","Authorization","data","id","error","console","alert","handleEdit","handleDelete","window","confirm","delete","_error$response","children","fileName","_jsxFileName","lineNumber","columnNumber","className","title","memberName","createdAt","Date","toLocaleDateString","content","onClick","_c","$RefreshReg$"],"sources":["C:/Users/BIG60309/react-client/src/components/PostDetail.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./PostDetail.css\";\r\n\r\nexport function PostDetail() {\r\n    const { postId, boardId } = useParams();\r\n    const [post, setPost] = useState(null);\r\n    const [memberId, setMemberId] = useState(null);\r\n    const token = localStorage.getItem(\"token\");\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            fetchUserData();\r\n            fetchPostDetail();\r\n        }\r\n    }, [token, postId, boardId]);\r\n\r\n    //  ÌòÑÏû¨ Î°úÍ∑∏Ïù∏Ìïú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå\r\n    const fetchUserData = async () => {\r\n        try {\r\n            const response = await axios.get(\"http://localhost:8090/api/users/me\", {\r\n                headers: { Authorization: `Bearer ${token}` },\r\n            });\r\n            setMemberId(response.data.id);\r\n        } catch (error) {\r\n            console.error(\"ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®:\", error);\r\n        }\r\n    };\r\n\r\n    //  Í≤åÏãúÍ∏Ä ÏÉÅÏÑ∏ Ï°∞Ìöå\r\n    const fetchPostDetail = async () => {\r\n        try {\r\n            const response = await axios.get(`http://localhost:8090/api/weekly-post/${postId}/${boardId}`, {\r\n                headers: { Authorization: `Bearer ${token}` },\r\n            });\r\n            setPost(response.data.post);\r\n        } catch (error) {\r\n            console.error(\"Í≤åÏãúÍ∏Ä ÏÉÅÏÑ∏ Ï°∞Ìöå Ïã§Ìå®:\", error);\r\n            alert(\"Í≤åÏãúÍ∏ÄÏùÑ Î∂àÎü¨Ïò§Îäî Îç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\r\n        }\r\n    };\r\n\r\n    //  ÏàòÏ†ï ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô (Í≤ΩÎ°ú ÏàòÏ†ïÎê®!)\r\n    const handleEdit = () => {\r\n        navigate(`/api/weekly-post/${postId}/${boardId}/edit`);  // üî• Í∏∞Ï°¥ Í≤ΩÎ°ú Ïò§Î•ò ÏàòÏ†ï\r\n    };\r\n\r\n    //  Í≤åÏãúÍ∏Ä ÏÇ≠Ï†ú ÏöîÏ≤≠\r\n    const handleDelete = async () => {\r\n        if (window.confirm(\"Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?\")) {\r\n            try {\r\n                await axios.delete(`http://localhost:8090/api/weekly-post/${postId}`, {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                });\r\n                alert(\"Í≤åÏãúÍ∏ÄÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.\");\r\n                navigate(`/board/${boardId}`);\r\n            } catch (error) {\r\n                alert(error.response?.data || \"Í≤åÏãúÍ∏Ä ÏÇ≠Ï†úÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.\");\r\n            }\r\n        }\r\n    };\r\n\r\n    if (!post) return <div>Î°úÎî© Ï§ë...</div>;\r\n\r\n    return (\r\n        <div className=\"post-detail-wrapper\">\r\n            <h1 className=\"post-detail-title\">{post.title}</h1>\r\n            <div className=\"post-detail-info\">\r\n                <span><strong>ÏûëÏÑ±Ïûê:</strong> {post.memberName}</span> &nbsp;\r\n                <span className=\"post-detail-date\">\r\n                    <strong>ÏûëÏÑ±Ïùº:</strong> {post.createdAt ? new Date(post.createdAt).toLocaleDateString() : \"Ïïå Ïàò ÏóÜÏùå\"}\r\n                </span>\r\n            </div>\r\n            <p className=\"post-detail-content\">{post.content}</p>\r\n\r\n            {/* ÌòÑÏû¨ Î°úÍ∑∏Ïù∏Ìïú ÏÇ¨Ïö©ÏûêÏôÄ Í≤åÏãúÍ∏Ä ÏûëÏÑ±ÏûêÍ∞Ä Í∞ôÏúºÎ©¥ ÏàòÏ†ï/ÏÇ≠Ï†ú UI ÌëúÏãú */}\r\n            {memberId === post.memberId && (\r\n                <div className=\"post-detail-buttons\">\r\n                    <button className=\"post-edit-button\" onClick={handleEdit}>ÏàòÏ†ï</button>\r\n                    <button className=\"post-delete-button\" onClick={handleDelete}>ÏÇ≠Ï†ú</button>\r\n                </div>\r\n            )}\r\n\r\n            <button className=\"post-back-button\" onClick={() => navigate(`/api/weekly-post/board/${boardId}`)}>Î™©Î°ù</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}